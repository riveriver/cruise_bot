<launch>
    <!-- save map:rosrun map_server map_saver map:=/projected_map -->
    <!-- only for view -->
    <arg name="pcd_map_path" value="$(find cruise_resources)/maps/new_hkcrc_corridor_bim2.pcd"/>
    <node pkg="pcl_ros" type="pcd_to_pointcloud" name="map_publishe" 
        args="$(arg pcd_map_path) 5 _frame_id:=map cloud_pcd:=ref_map" />

    <node pkg="octomap_server" type = "octomap_server_node" name="octomap_server">
        <param name ="resolution" value="0.1" />
        <param name = "frame_id" type="str" value="map" />
        <param name = "sensor_model/max_range" value="1000.0" />
        <param name = "latch" value="true" />
        <param name = "pointcloud_max_z" value="-2.6" />
        <param name = "pointcloud_min_z" value="-2.8" />
        <remap from ="cloud_in" to="/ref_map" />
    </node>

    <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="tf_map_3d_to_2d" args="0 0 -1.235 0 -0.4482 0 map_3d map"/> -->
    <node launch-prefix="nice" pkg="rviz" type="rviz" name="rviz" args="-d $(find cruise_nav)/rviz/pcd2pgm.rviz" />

</launch>